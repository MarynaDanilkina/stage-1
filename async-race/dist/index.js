(()=>{"use strict";var n,t,e,a,i={767:(n,t,e)=>{e.d(t,{Z:()=>s});var a=e(645),i=e.n(a)()((function(n){return n[1]}));i.push([n.id,"*,\n*::before,\n*::after {\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\nbody{\n  background-color: rgb(33, 31, 31);\n}\n.header{\n  display: flex;\n  padding: 15px 0px 30px;\n}\n.container{\n  margin: 0px 30px;\n}\n.button{\n  padding: 5px;\n  margin-right: 15px;\n  width: 90px;\n  height: 30px;\n  border-radius: 15px;\n  font-size: 15px;\n  background-color:  rgb(116 119 144);\n}\n.button:hover{\n  background-color: rgb(117, 131, 239);\n}\n.bttn{\n  width: 95px;\n  height: 30px;\n  margin-right: 10px;\n  background-color: rgb(182 216 144);\n}\n.button-generate{\n  width: 150px;\n  height: 30px;\n  background-color: rgb(187, 239, 248);\n}\n.button__form{\n  width: 90px;\n  height: 30px;\n  background-color: rgb(187, 239, 248);\n}\n.garage{\n  display: block;\n}\n.winners{\n  display: none; \n}\n.main{\n  padding: 15px 0px 60px;\n}\n.garage__form{\n  margin-bottom: 15px;\n}\n.form{\n  margin: 15px 0px;\n  display: flex;\n  align-items: center;\n}\n.input{\n  width: 200px;\n  height: 30px;\n  margin-right: 10px;\n}\n.color{\n  margin-right: 10px;\n}\n.garage__list{\n  display: flex;\n}\n.li{\n  list-style: none;\n}\n.garage__block{\n  margin-top: 30px;\n  color: aliceblue;\n}\n.page{\n  margin-top: 10px;\n  font-size: 20px;\n}\n.cars__buttons{\n  margin-top: 40px;\n  display: flex;\n  align-items: center;\n}\n.cars__container{\n  display: flex;\n  border-bottom: 2px solid #fefffe;\n  align-items: flex-end;\n  justify-content: space-between;\n}\n.cars-info{\n  display: flex;\n  justify-content: left;\n}\n.cars-container__button{\n  display: flex;\n  flex-direction: column;\n  \n}\n.button-car{\n  width: 50px;\n  margin-top: 10px;\n}\n.btn{\n  width: 70px;\n  margin-right: 10px;\n  height: 30px;background-color: rgb(187, 239, 248);\n}\n.button__start{\n  border: #72cd22 solid 3px;\n}\n.button__stop{\n  border: #ec0d0d solid 2px;\n}\n.car{\n  width: 90px;\n}\n.finish{\n  fill: aliceblue;\n  width: 50px;\n  margin-right: 100px;\n}\n.pagination{\n  margin-top: 50px;\n  display: flex;\n}\n.pagination .button{\n  color: aliceblue;\n}\n.winners{\n  color: #fefffe;\n}\n.table{\n  display: flex;\n}\n.table div{\n  margin-right: 20px;\n}",""]);const s=i},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=n(t);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e})).join("")},t.i=function(n,e,a){"string"==typeof n&&(n=[[null,n,""]]);var i={};if(a)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(i[o]=!0)}for(var r=0;r<n.length;r++){var c=[].concat(n[r]);a&&i[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),t.push(c))}},t}},427:(n,t,e)=>{var a=e(379),i=e.n(a),s=e(767);i()(s.Z,{insert:"head",singleton:!1}),s.Z.locals},379:(n,t,e)=>{var a,i=function(){var n={};return function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}n[t]=e}return n[t]}}(),s=[];function o(n){for(var t=-1,e=0;e<s.length;e++)if(s[e].identifier===n){t=e;break}return t}function r(n,t){for(var e={},a=[],i=0;i<n.length;i++){var r=n[i],c=t.base?r[0]+t.base:r[0],l=e[c]||0,d="".concat(c," ").concat(l);e[c]=l+1;var u=o(d),g={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(s[u].references++,s[u].updater(g)):s.push({identifier:d,updater:f(g,t),references:1}),a.push(d)}return a}function c(n){var t=document.createElement("style"),a=n.attributes||{};if(void 0===a.nonce){var s=e.nc;s&&(a.nonce=s)}if(Object.keys(a).forEach((function(n){t.setAttribute(n,a[n])})),"function"==typeof n.insert)n.insert(t);else{var o=i(n.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var l,d=(l=[],function(n,t){return l[n]=t,l.filter(Boolean).join("\n")});function u(n,t,e,a){var i=e?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(n.styleSheet)n.styleSheet.cssText=d(t,i);else{var s=document.createTextNode(i),o=n.childNodes;o[t]&&n.removeChild(o[t]),o.length?n.insertBefore(s,o[t]):n.appendChild(s)}}function g(n,t,e){var a=e.css,i=e.media,s=e.sourceMap;if(i?n.setAttribute("media",i):n.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleSheet)n.styleSheet.cssText=a;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(a))}}var p=null,m=0;function f(n,t){var e,a,i;if(t.singleton){var s=m++;e=p||(p=c(t)),a=u.bind(null,e,s,!1),i=u.bind(null,e,s,!0)}else e=c(t),a=g.bind(null,e,t),i=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)};return a(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;a(n=t)}else i()}}n.exports=function(n,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var e=r(n=n||[],t);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var a=0;a<e.length;a++){var i=o(e[a]);s[i].references--}for(var c=r(n,t),l=0;l<e.length;l++){var d=o(e[l]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}e=c}}}},917:(n,t,e)=>{let a;function i(n,t,e){const i=performance.now();return requestAnimationFrame((function s(o){let r=(o-i)/e;r>1&&(r=1),n.style.transform=`translateX(${r*t}px)`,r<1&&(a=requestAnimationFrame(s))})),a}e.d(t,{O:()=>a,o:()=>i})},125:(n,t,e)=>{function a(n){return`\n  <div class="cars__buttons">\n    <button class="btn button__select" id="select-car${n.id}">Select</button>\n    <button class="btn button__remove" id="remove-car${n.id}">Remove</button>\n    <p class="model">${n.name}</p>\n  </div>\n  <div class="cars__container">\n    <div class="cars-info">\n      <div class="cars-container__button">\n        <button class="button-car button__start" id="start-car${n.id}">A</button>\n        <button class="button-car button__stop" id="stop-car${n.id}" disabled>B</button>\n      </div>\n      <div class="car " id="car__${n.id}">\n        <svg id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 400" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css">\n          </style><g fill="${n.color}"><circle class="st0" cx="136" cy="358.6" r="44.4"/><circle class="st0" cx="366.4" cy="358.6" r="44.4"/><path class="st0" d="M469,331.4l-18.7-56.1c-5.6-16.9-21.4-28.3-39.2-28.3H81.2c-17.1,0-31,13.9-31,31v49.6c0,17.1,13.9,31,31,31   c0-30.2,24.5-54.8,54.8-54.8s54.8,24.5,54.8,54.8h120.9c0-30.2,24.5-54.8,54.8-54.8c30.2,0,54.8,24.5,54.8,54.8h28.2   C463.5,358.6,473.4,344.7,469,331.4z M438.6,292.7c-8.8,4.2-19.2,0.4-23.4-8.3c-4.2-8.8-0.4-19.2,8.3-23.4   C432.3,256.8,447.3,288.5,438.6,292.7z"/><path class="st0" d="M305.5,173.6c-9.8-11.8-24.4-18.6-39.7-18.6H146c-10.4,0-19.2,7.8-20.5,18.1l-9.1,73.8h250.1L305.5,173.6z    M208.3,236.6h-68.2l6.2-55.8h62V236.6z M228,180.8h50.6l43.4,55.8h-94V180.8z"/></g>\n        </svg>\n      </div>  \n    </div>\n    <div class="finish" id="finish__${n.id}">\n      <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n          viewBox="0 0 753.23 753.23"\n          xml:space="preserve">\n        <g>\n          <g id="Flag">\n            <g>\n              <path d="M665.644,45.406c-10.475-6.426-23.632-6.874-34.577-1.201c-27.917,14.453-55.387,26.41-108.419,26.41\n                c-58.352,0-85.821-14.476-117.668-31.235C369.907,20.926,330.174,0,254.427,0c-52.42,0-87.445,10.027-115.739,22.267\n                C133.486,9.25,120.823,0,105.923,0c-19.49,0-35.308,15.794-35.308,35.308v682.615c0,19.514,15.818,35.308,35.308,35.308\n                s35.308-15.794,35.308-35.308V429.012c29.988-15.724,57.646-28.858,113.197-28.858c58.328,0,85.821,14.477,117.645,31.236\n                c35.072,18.454,74.781,39.38,150.575,39.38c68.804,0,107.336-16.948,140.878-34.296c11.746-6.073,19.09-18.172,19.09-31.377\n                V75.559C682.615,63.248,676.189,51.808,665.644,45.406z M612,383.018c-22.503,9.957-48.23,17.136-89.353,17.136\n                c-58.352,0-85.821-14.476-117.668-31.235c-35.073-18.454-74.806-39.38-150.552-39.38c-50.82,0-85.327,9.392-113.197,21.138\n                V99.474c29.988-15.724,57.646-28.858,113.197-28.858c58.328,0,85.821,14.476,117.645,31.235\n                c35.072,18.454,74.781,39.38,150.575,39.38c37.355,0,65.79-4.99,89.353-12.334V383.018z"/></g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g>\n            </g><g>\n        </g>\n      </svg>\n    </div>\n  </div>`}e.d(t,{Y:()=>a})},198:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{x:()=>r});var i=e(125),s=e(607),o=n([s]);function r(n,t){return`\n            <div class="garage__form">\n              <form class="form new-form" id="new-form">\n                <input class="input" id="new-name" name="name" type="text" required />\n                <input class="color" id="new-color" name="color" type="color" value="#ffffff"/>\n                <button class="button__form" type="submit">Create</button>\n              </form>\n              <form class="form edit-form" id="edit-form">\n                <input class="input" id="edit-name" name="name" type="text" disabled required/>\n                <input class="color" id="edit-color" name="color" type="color" value="#ffffff" disabled/>\n                <button class="button__form" id="edit-btn" type="submit" disabled >Update</button>\n              </form>\n            </div>\n            <ul class="garage__list">\n              <li class="li"><button class="bttn button-race" id="race">Race</button></li>\n              <li class="li"><button class="bttn button-reset" id="reset" disabled>Reset</button></li>\n              <li class="li"><button class="button-generate" id="generate">Generate</button></li>\n            </ul>  \n              <div class="garage__block">\n                <h2 class="title">Garage (${n})</h2>\n                <p class="page">Page #${s.L}</p>\n                <ul class="cars">\n                  <li class="li">\n                    ${t.map((n=>(0,i.Y)(n))).join("")}\n                  </li>\n                </ul>\n              </div>\n            </ul>\n`}s=(o.then?(await o)():o)[0],a()}catch(n){a(n)}}))},319:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{s:()=>o});var i=e(198),s=n([i]);function o(n,t){const e=`\n    <header class="header container">\n          <button type="button" class="button garage_button">to garage</button>\n          <button type="button" class="button winners_button">to winners</button>\n        </header>\n        <main class="main container">\n          <div class="garage" id="garage">${(0,i.x)(n,t)}</div>\n          <div class="winners" id="winners">\n          </div>\n          <div class="pagination">\n            <button class="button button_prev" id="prev">←</button>\n            <button class="button button_next" id="next">→</button>\n          </div>\n        </main> \n`,a=document.createElement("div");a.innerHTML=e,document.body.appendChild(a)}i=(s.then?(await s)():s)[0],a()}catch(n){a(n)}}))},607:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{L:()=>u}),e(427);var i=e(319),s=e(198),o=e(347),r=e(663),c=e(963),l=e(917),d=n([i,s]);[i,s]=d.then?(await d)():d;let u=localStorage.getItem("pages")||"1";r.t.setPages(+u),await(0,o.Rn)(+u);const g=r.t.getCarsCount(),p=r.t.data;(0,i.s)(g,p);const m=document.getElementById("new-form"),f=document.getElementById("garage"),b=document.getElementById("winners"),h=document.getElementById("reset");async function v(n){await(0,o.nn)(n),document.getElementById(`car__${n}`).style.transform="translateX(0px)",cancelAnimationFrame(l.O)}async function y(n){const{velocity:t,distance:e}=await(0,o._t)(n),a=Math.round(e/t),i=document.getElementById(`car__${n}`),s=i.getBoundingClientRect(),r=document.getElementById(`finish__${n}`).getBoundingClientRect().left-s.left+50;(0,l.o)(i,r,a);const{success:c}=await(0,o.uu)(n);return c||cancelAnimationFrame(l.O),{id:n,time:a,success:c}}document.querySelector("#body").addEventListener("click",(async n=>{const t=n.target;if(t.classList.contains("button__remove")){const n=Number(t.id.split("car")[1]);await(0,o.tD)(n),await(0,o.Rn)(+u),f.innerHTML=(0,s.x)(g,p)}if(t.classList.contains("button__select")){const n=document.getElementById("edit-name"),e=document.getElementById("edit-color"),a=document.getElementById("edit-btn");r.t.setID(t.id.split("car")[1]),n.disabled=!1,e.disabled=!1,a.disabled=!1}if(t.classList.contains("button_next")&&(u=""+r.t.getPagesNext(),localStorage.setItem("pages",u),await(0,o.Rn)(+u),f.innerHTML=(0,s.x)(g,p)),t.classList.contains("button_prev")&&(u=""+r.t.getPagesPrev(),localStorage.setItem("pages",u),await(0,o.Rn)(+u),f.innerHTML=(0,s.x)(g,p)),t.classList.contains("garage_button")&&(b.style.display="none",f.style.display="block"),t.classList.contains("winners_button")&&(f.style.display="none",b.style.display="block"),t.classList.contains("button-generate")&&((0,c.c)().map((async n=>{await(0,o.DT)(n)})),await(0,o.Rn)(+u),f.innerHTML=(0,s.x)(g,p)),t.classList.contains("button__start")){r.t.setID(t.id.split("car")[1]);const n=r.t.getID();y(n),t.disabled=!0,document.getElementById(`stop-car${n}`).disabled=!1}if(t.classList.contains("button__stop")){r.t.setID(t.id.split("car")[1]);const n=r.t.getID();v(n),t.disabled=!0,document.getElementById(`start-car${n}`).disabled=!1}t.classList.contains("button-race")&&(r.t["getСars"]().map((n=>y(`${n.id}`))),t.disabled=!0,h.disabled=!1),t.classList.contains("button-reset")&&(r.t["getСars"]().map((n=>v(`${n.id}`))),t.disabled=!1,h.disabled=!0)})),m.addEventListener("submit",(async()=>{const n=document.getElementById("new-name"),t=document.getElementById("new-color");await(0,o.DT)({name:n.value,color:t.value}),await(0,o.Rn)(+u),f.innerHTML=(0,s.x)(g,p)})),document.getElementById("edit-form").addEventListener("submit",(async()=>{const n=document.getElementById("edit-name"),t=document.getElementById("edit-color"),e=r.t.getID();await(0,o.Bo)(e,{name:n.value,color:t.value})})),a()}catch(n){a(n)}}),1)},963:(n,t,e)=>{function a(){const n=["AUDI","ALFA ROMEO","BMW","FORD","HONDA","VOLKSWAGEN","SKODA","KIA","GEELY","BENTLEY"],t=["G11","80 B4","C5 I","Model S","Mustang","RC","S60 I","Astra G","S80 II","Jetta VII"],e=Math.floor(Math.random()*n.length),a=Math.floor(Math.random()*t.length);return`${n[e]} ${t[a]}`}function i(){return new Array(100).fill(0).map((()=>({name:a(),color:"#"+(Math.random().toString(16)+"000000").substring(2,8).toUpperCase()})))}e.d(t,{c:()=>i})},347:(n,t,e)=>{e.d(t,{Bo:()=>c,DT:()=>o,Rn:()=>s,_t:()=>l,nn:()=>d,tD:()=>r,uu:()=>u});var a=e(663);const i="http://127.0.0.1:3000";async function s(n,t=7){const e=await fetch(`${i}/garage?_page=${n}&_limit=${t}`),s=await e.json();a.t["setСars"](s);const o=Number(e.headers.get("X-Total-Count"));a.t.setCarsCount(o)}async function o(n){const t=await fetch(`${i}/garage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return await t.json()}async function r(n){const t=await fetch(`${i}/garage/${n}`,{method:"DELETE"});return await t.json()}async function c(n,t){const e=await fetch(`${i}/garage/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await e.json()}async function l(n){const t=await fetch(`${i}/engine?id=${n}&status=started`,{method:"PATCH"});return await t.json()}async function d(n){const t=await fetch(`${i}/engine?id=${n}&status=stopped`,{method:"PATCH"});return await t.json()}async function u(n){const t=await fetch(`${i}/engine?id=${n}&status=drive`,{method:"PATCH"});return 200!==t.status?{success:!1}:await t.json()}},663:(n,t,e)=>{e.d(t,{t:()=>a});const a=new class{constructor(){this.pages=1,this.setСars=n=>{this.data=n},this.getСars=()=>this.data,this.setCarsCount=n=>{this.CarsCount=n},this.getCarsCount=()=>this.CarsCount,this.setID=n=>{this.id=n},this.getID=()=>this.id,this.getPagesNext=()=>this.pages+=1,this.getPagesPrev=()=>1===this.pages?this.pages:this.pages-=1,this.setPages=n=>{this.pages=n}}}}},s={};function o(n){var t=s[n];if(void 0!==t)return t.exports;var e=s[n]={id:n,exports:{}};return i[n](e,e.exports,o),e.exports}n="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=n=>{n&&!n.d&&(n.d=1,n.forEach((n=>n.r--)),n.forEach((n=>n.r--?n.r++:n())))},o.a=(i,s,o)=>{var r;o&&((r=[]).d=1);var c,l,d,u=new Set,g=i.exports,p=new Promise(((n,t)=>{d=t,l=n}));p[t]=g,p[n]=n=>(r&&n(r),u.forEach(n),p.catch((n=>{}))),i.exports=p,s((i=>{var s;c=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[n])return i;if(i.then){var s=[];s.d=0,i.then((n=>{o[t]=n,a(s)}),(n=>{o[e]=n,a(s)}));var o={};return o[n]=n=>n(s),o}}var r={};return r[n]=n=>{},r[t]=i,r})))(i);var o=()=>c.map((n=>{if(n[e])throw n[e];return n[t]})),l=new Promise((t=>{(s=()=>t(o)).r=0;var e=n=>n!==r&&!u.has(n)&&(u.add(n),n&&!n.d&&(s.r++,n.push(s)));c.map((t=>t[n](e)))}));return s.r?l:o()}),(n=>(n?d(p[e]=n):l(g),a(r)))),r&&(r.d=0)},o.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return o.d(t,{a:t}),t},o.d=(n,t)=>{for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),o.nc=void 0,o(607)})();
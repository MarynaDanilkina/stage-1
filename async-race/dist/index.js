(()=>{"use strict";var n,t,e,a,i={767:(n,t,e)=>{e.d(t,{Z:()=>s});var a=e(645),i=e.n(a)()((function(n){return n[1]}));i.push([n.id,"*,\n*::before,\n*::after {\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\nbody{\n  background-color: rgb(33, 31, 31);\n}\n.header{\n  display: flex;\n  padding: 15px 0px 30px;\n}\n.container{\n  margin: 0px 30px;\n}\n.button{\n  padding: 5px;\n  margin-right: 15px;\n  width: 90px;\n  height: 30px;\n  border-radius: 15px;\n  font-size: 15px;\n  background-color:  rgb(116 119 144);\n}\n.button:hover{\n  background-color: rgb(117, 131, 239);\n  cursor: pointer;\n}\n.bttn{\n  width: 95px;\n  height: 30px;\n  margin-right: 10px;\n  background-color: rgb(182 216 144);\n}\n.bttn:hover{\n  background-color: rgb(137, 185, 81);\n  cursor: pointer;\n}\n.bttn:disabled{\n  background-color: rgb(182 216 144);\n  cursor: default;\n}\n.button-generate{\n  width: 150px;\n  height: 30px;\n  background-color: rgb(187, 239, 248);\n}\n.button__form{\n  width: 90px;\n  height: 30px;\n  background-color: rgb(187, 239, 248);\n}\n.button__form:hover,\n.button-generate:hover{\n  background-color: rgb(90, 185, 202);\n  cursor: pointer;\n}\n.button__form:disabled,\n.button-generate:disabled{\n  background-color: rgb(187, 239, 248);\n  cursor: default;\n}\n.garage{\n  display: block;\n}\n.winners{\n  display: none; \n}\n.main{\n  padding: 15px 0px 60px;\n}\n.garage__form{\n  margin-bottom: 15px;\n}\n.form{\n  margin: 15px 0px;\n  display: flex;\n  align-items: center;\n}\n.input{\n  width: 200px;\n  height: 30px;\n  margin-right: 10px;\n}\n.color{\n  margin-right: 10px;\n}\n.garage__list{\n  display: flex;\n}\n.li{\n  list-style: none;\n}\n.garage__block{\n  margin-top: 30px;\n  color: aliceblue;\n}\n.page{\n  margin-top: 10px;\n  font-size: 20px;\n}\n.cars__buttons{\n  margin-top: 40px;\n  display: flex;\n  align-items: center;\n}\n.cars__container{\n  display: flex;\n  border-bottom: 2px solid #fefffe;\n  align-items: flex-end;\n  justify-content: space-between;\n}\n.cars-info{\n  display: flex;\n  justify-content: left;\n}\n.cars-container__button{\n  display: flex;\n  flex-direction: column;\n  \n}\n.button-car{\n  width: 50px;\n  margin-top: 10px;\n}\n.btn{\n  width: 70px;\n  margin-right: 10px;\n  height: 30px;\n  background-color: rgb(187, 239, 248);\n}\n.btn:hover{\n  background-color: rgb(93, 172, 185);\n  cursor: pointer;\n}\n.button__start{\n  border: #72cd22 solid 3px;\n  background-color: #d7eac7;\n}\n.button__start:hover{\n  border: #366f04 solid 3px;\n  cursor: pointer;\n  background-color: #c2e9a0;\n}\n.button__start:disabled{\n  border:  #72cd22 solid 3px;\n  cursor: default;\n  background-color: #c2e9a0;\n}\n.button__stop{\n  border: #ec0d0d solid 2px;\n  background-color: #b69490;\n}\n.button__stop:hover{\n  border: #750606 solid 2px;\n  cursor: pointer;\n  background-color: #e8877a;\n}\n.button__stop:disabled{\n  border: #ec0d0d solid 2px;\n  cursor: default;\n  background-color: #b69490;\n}\n.car{\n  width: 90px;\n}\n.finish{\n  fill: aliceblue;\n  width: 50px;\n  margin-right: 100px;\n}\n.pagination{\n  margin-top: 50px;\n  display: flex;\n}\n.pagination .button{\n  color: aliceblue;\n}\n\n.winners{\n  color: #fefffe;\n}\n.table{\n  display: flex;\n}\n.table div{\n  margin-right: 20px;\n}\n.winners__block{\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n}\n.table{\n  color: #fefffe;\n}\n.winners__container{\n  margin-top: 20px;\n}\ntd, th{\n  width: 150px;\n}",""]);const s=i},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=n(t);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e})).join("")},t.i=function(n,e,a){"string"==typeof n&&(n=[[null,n,""]]);var i={};if(a)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(i[o]=!0)}for(var r=0;r<n.length;r++){var c=[].concat(n[r]);a&&i[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),t.push(c))}},t}},427:(n,t,e)=>{var a=e(379),i=e.n(a),s=e(767);i()(s.Z,{insert:"head",singleton:!1}),s.Z.locals},379:(n,t,e)=>{var a,i=function(){var n={};return function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}n[t]=e}return n[t]}}(),s=[];function o(n){for(var t=-1,e=0;e<s.length;e++)if(s[e].identifier===n){t=e;break}return t}function r(n,t){for(var e={},a=[],i=0;i<n.length;i++){var r=n[i],c=t.base?r[0]+t.base:r[0],d=e[c]||0,l="".concat(c," ").concat(d);e[c]=d+1;var u=o(l),g={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(s[u].references++,s[u].updater(g)):s.push({identifier:l,updater:f(g,t),references:1}),a.push(l)}return a}function c(n){var t=document.createElement("style"),a=n.attributes||{};if(void 0===a.nonce){var s=e.nc;s&&(a.nonce=s)}if(Object.keys(a).forEach((function(n){t.setAttribute(n,a[n])})),"function"==typeof n.insert)n.insert(t);else{var o=i(n.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var d,l=(d=[],function(n,t){return d[n]=t,d.filter(Boolean).join("\n")});function u(n,t,e,a){var i=e?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(n.styleSheet)n.styleSheet.cssText=l(t,i);else{var s=document.createTextNode(i),o=n.childNodes;o[t]&&n.removeChild(o[t]),o.length?n.insertBefore(s,o[t]):n.appendChild(s)}}function g(n,t,e){var a=e.css,i=e.media,s=e.sourceMap;if(i?n.setAttribute("media",i):n.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleSheet)n.styleSheet.cssText=a;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(a))}}var p=null,b=0;function f(n,t){var e,a,i;if(t.singleton){var s=b++;e=p||(p=c(t)),a=u.bind(null,e,s,!1),i=u.bind(null,e,s,!0)}else e=c(t),a=g.bind(null,e,t),i=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)};return a(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;a(n=t)}else i()}}n.exports=function(n,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var e=r(n=n||[],t);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var a=0;a<e.length;a++){var i=o(e[a]);s[i].references--}for(var c=r(n,t),d=0;d<e.length;d++){var l=o(e[d]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}e=c}}}},125:(n,t,e)=>{function a(n){return`\n  <div class="cars__buttons">\n    <button class="btn button__select" id="select-car${n.id}">Select</button>\n    <button class="btn button__remove" id="remove-car${n.id}">Remove</button>\n    <p class="model">${n.name}</p>\n  </div>\n  <div class="cars__container">\n    <div class="cars-info">\n      <div class="cars-container__button">\n        <button class="button-car button__start" id="start-car${n.id}">A</button>\n        <button class="button-car button__stop" id="stop-car${n.id}" disabled>B</button>\n      </div>\n      <div class="car " id="car__${n.id}">\n        <svg id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 400" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css">\n          </style><g fill="${n.color}"><circle class="st0" cx="136" cy="358.6" r="44.4"/><circle class="st0" cx="366.4" cy="358.6" r="44.4"/><path class="st0" d="M469,331.4l-18.7-56.1c-5.6-16.9-21.4-28.3-39.2-28.3H81.2c-17.1,0-31,13.9-31,31v49.6c0,17.1,13.9,31,31,31   c0-30.2,24.5-54.8,54.8-54.8s54.8,24.5,54.8,54.8h120.9c0-30.2,24.5-54.8,54.8-54.8c30.2,0,54.8,24.5,54.8,54.8h28.2   C463.5,358.6,473.4,344.7,469,331.4z M438.6,292.7c-8.8,4.2-19.2,0.4-23.4-8.3c-4.2-8.8-0.4-19.2,8.3-23.4   C432.3,256.8,447.3,288.5,438.6,292.7z"/><path class="st0" d="M305.5,173.6c-9.8-11.8-24.4-18.6-39.7-18.6H146c-10.4,0-19.2,7.8-20.5,18.1l-9.1,73.8h250.1L305.5,173.6z    M208.3,236.6h-68.2l6.2-55.8h62V236.6z M228,180.8h50.6l43.4,55.8h-94V180.8z"/></g>\n        </svg>\n      </div>  \n    </div>\n    <div class="finish" id="finish__${n.id}">\n      <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n          viewBox="0 0 753.23 753.23"\n          xml:space="preserve">\n        <g>\n          <g id="Flag">\n            <g>\n              <path d="M665.644,45.406c-10.475-6.426-23.632-6.874-34.577-1.201c-27.917,14.453-55.387,26.41-108.419,26.41\n                c-58.352,0-85.821-14.476-117.668-31.235C369.907,20.926,330.174,0,254.427,0c-52.42,0-87.445,10.027-115.739,22.267\n                C133.486,9.25,120.823,0,105.923,0c-19.49,0-35.308,15.794-35.308,35.308v682.615c0,19.514,15.818,35.308,35.308,35.308\n                s35.308-15.794,35.308-35.308V429.012c29.988-15.724,57.646-28.858,113.197-28.858c58.328,0,85.821,14.477,117.645,31.236\n                c35.072,18.454,74.781,39.38,150.575,39.38c68.804,0,107.336-16.948,140.878-34.296c11.746-6.073,19.09-18.172,19.09-31.377\n                V75.559C682.615,63.248,676.189,51.808,665.644,45.406z M612,383.018c-22.503,9.957-48.23,17.136-89.353,17.136\n                c-58.352,0-85.821-14.476-117.668-31.235c-35.073-18.454-74.806-39.38-150.552-39.38c-50.82,0-85.327,9.392-113.197,21.138\n                V99.474c29.988-15.724,57.646-28.858,113.197-28.858c58.328,0,85.821,14.476,117.645,31.235\n                c35.072,18.454,74.781,39.38,150.575,39.38c37.355,0,65.79-4.99,89.353-12.334V383.018z"/></g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g>\n            </g><g>\n        </g>\n      </svg>\n    </div>\n  </div>`}e.d(t,{Y:()=>a})},198:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{x:()=>c});var i=e(125),s=e(607),o=e(663),r=n([s]);function c(){return`\n            <div class="garage__form">\n              <form class="form new-form" id="new-form">\n                <input class="input" id="new-name" name="name" type="text" required />\n                <input class="color" id="new-color" name="color" type="color" value="#ffffff"/>\n                <button class="button__form" type="submit">Create</button>\n              </form>\n              <form class="form edit-form" id="edit-form">\n                <input class="input" id="edit-name" name="name" type="text" disabled required/>\n                <input class="color" id="edit-color" name="color" type="color" value="#ffffff" disabled/>\n                <button class="button__form" id="edit-btn" type="submit" disabled >Update</button>\n              </form>\n            </div>\n            <ul class="garage__list">\n              <li class="li"><button class="bttn button-race" id="race">Race</button></li>\n              <li class="li"><button class="bttn button-reset" id="reset" disabled>Reset</button></li>\n              <li class="li"><button class="button-generate" id="generate">Generate</button></li>\n            </ul>  \n              <div class="garage__block">\n                <h2 class="title">Garage (${o.t.getCarsCount()})</h2>\n                <p class="page">Page #${s.L}</p>\n                <ul class="cars">\n                  <li class="li">\n                    ${o.t.data.map((n=>(0,i.Y)(n))).join("")}\n                  </li>\n                </ul>\n              </div>\n            </ul>\n            <div class="pagination">\n              <button class="button button_prev" id="prev">←</button>\n              <button class="button button_next" id="next">→</button>\n            </div>\n`}s=(r.then?(await r)():r)[0],a()}catch(n){a(n)}}))},319:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{s:()=>r});var i=e(198),s=e(796),o=n([i,s]);function r(){const n=`\n    <header class="header container">\n          <button type="button" class="button garage_button">to garage</button>\n          <button type="button" class="button winners_button">to winners</button>\n        </header>\n        <main class="main container">\n          <div class="garage" id="garage">${(0,i.x)()}</div>\n          <div class="winners" id="winners">${(0,s.z)()}</div>\n        </main> \n`,t=document.createElement("div");t.innerHTML=n,document.body.appendChild(t)}[i,s]=o.then?(await o)():o,a()}catch(n){a(n)}}))},796:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{z:()=>r});var i=e(663),s=e(607),o=n([s]);function r(){return`\n    <div class="winners__block">\n        <h2 class="title">Garage (${i.t.getWinnersCount()})</h2>\n        <p class="page">Page #${s.W}</p>\n        <div class="winners__container">\n            <table>\n                <thead>\n                    <tr>\n                        <th>№</th>\n                        <th>Image</th>\n                        <th>Name</th>\n                        <th>Wins</th>\n                        <th>Best time</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        ${i.t.Winners.map(((n,t)=>c(n,t))).join("")}\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class="pagination">\n        <button class="button button_prevWin" id="prevWin">←</button>\n        <button class="button button_nextWin" id="nextWin">→</button>\n    </div>\n  `}function c(n,t){return`\n        <tr>\n            <td>${t+1}</td>\n            <td>\n              <div class="car" id="car__${n.winner.id}">\n                <svg id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 400" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css">\n          </style><g fill="${n.car.color}"><circle class="st0" cx="136" cy="358.6" r="44.4"/><circle class="st0" cx="366.4" cy="358.6" r="44.4"/><path class="st0" d="M469,331.4l-18.7-56.1c-5.6-16.9-21.4-28.3-39.2-28.3H81.2c-17.1,0-31,13.9-31,31v49.6c0,17.1,13.9,31,31,31   c0-30.2,24.5-54.8,54.8-54.8s54.8,24.5,54.8,54.8h120.9c0-30.2,24.5-54.8,54.8-54.8c30.2,0,54.8,24.5,54.8,54.8h28.2   C463.5,358.6,473.4,344.7,469,331.4z M438.6,292.7c-8.8,4.2-19.2,0.4-23.4-8.3c-4.2-8.8-0.4-19.2,8.3-23.4   C432.3,256.8,447.3,288.5,438.6,292.7z"/><path class="st0" d="M305.5,173.6c-9.8-11.8-24.4-18.6-39.7-18.6H146c-10.4,0-19.2,7.8-20.5,18.1l-9.1,73.8h250.1L305.5,173.6z    M208.3,236.6h-68.2l6.2-55.8h62V236.6z M228,180.8h50.6l43.4,55.8h-94V180.8z"/></g>\n        </svg>\n              </div>\n              </td>\n            <td>${n.car.name}</td>\n            <td>${n.winner.wins}</td>\n            <td>${n.winner.time}</td>\n        </tr>\n    `}s=(o.then?(await o)():o)[0],a()}catch(n){a(n)}}))},607:(n,t,e)=>{e.a(n,(async(n,a)=>{try{e.d(t,{L:()=>g,W:()=>p}),e(427);var i=e(319),s=e(198),o=e(347),r=e(663),c=e(963),d=e(345),l=e(796),u=n([i,s,l]);[i,s,l]=u.then?(await u)():u;let g=localStorage.getItem("pages")||"1";r.t.setPages(+g);let p=1;await(0,o.Rn)(+g),await(0,o.ix)(p),(0,i.s)(),(0,o.ix)(p);const b=document.getElementById("new-form"),f=document.getElementById("garage"),m=document.getElementById("winners"),h=document.getElementById("prev"),y=document.getElementById("next"),w=document.getElementById("reset"),v=document.getElementById("race");async function x(n){const t=Number(n.id.split("car")[1]);await(0,o.tD)(t),await(0,o.Rn)(+g),f.innerHTML=(0,s.x)(),await(0,o.BS)(t)}async function _(n){const t=document.getElementById("edit-name"),e=document.getElementById("edit-color"),a=document.getElementById("edit-btn");r.t.setID(n.id.split("car")[1]),t.disabled=!1,e.disabled=!1,a.disabled=!1}async function $(){g=""+r.t.getPagesNext(),localStorage.setItem("pages",g),await(0,o.Rn)(+g),f.innerHTML=(0,s.x)()}async function C(){g=""+r.t.getPagesPrev(),localStorage.setItem("pages",g),await(0,o.Rn)(+g),f.innerHTML=(0,s.x)()}async function I(){p+=1,await(0,o.ix)(p),m.innerHTML=(0,l.z)()}async function k(){1===p?p=1:p-=1,await(0,o.ix)(p),m.innerHTML=(0,l.z)()}async function E(){f.style.display="none",m.style.display="block",await(0,o.ix)(1),m.innerHTML=(0,l.z)()}async function L(){(0,c.c)().map((async n=>{await(0,o.DT)(n)})),await(0,o.Rn)(+g),f.innerHTML=(0,s.x)()}async function M(n){r.t.setID(n.id.split("car")[1]);const t=r.t.getID();(0,d.Sz)(+t),n.disabled=!0,document.getElementById(`stop-car${t}`).disabled=!1}async function S(n){r.t.setID(n.id.split("car")[1]);const t=r.t.getID();j(t),n.disabled=!0,document.getElementById(`start-car${t}`).disabled=!1}async function B(){v.disabled=!0,w.disabled=!1,h.disabled=!0,y.disabled=!0,await(0,d.S3)()}async function T(){r.t["getСars"]().map((n=>j(`${n.id}`))),v.disabled=!1,w.disabled=!0,h.disabled=!1,y.disabled=!1}async function j(n){await(0,o.nn)(n),document.getElementById(`car__${n}`).style.transform="translateX(0px)",window.cancelAnimationFrame(d.XU[+n].id)}document.querySelector("#body").addEventListener("click",(async n=>{const t=n.target;t.classList.contains("button__remove")&&x(t),t.classList.contains("button__select")&&_(t),t.classList.contains("button_next")&&$(),t.classList.contains("button_prev")&&C(),t.classList.contains("button_nextWin")&&I(),t.classList.contains("button_prevWin")&&k(),t.classList.contains("garage_button")&&(m.style.display="none",f.style.display="block"),t.classList.contains("winners_button")&&E(),t.classList.contains("button-generate")&&L(),t.classList.contains("button__start")&&M(t),t.classList.contains("button__stop")&&S(t),t.classList.contains("button-race")&&B(),t.classList.contains("button-reset")&&T()})),b.addEventListener("submit",(async()=>{const n=document.getElementById("new-name"),t=document.getElementById("new-color");await(0,o.DT)({name:n.value,color:t.value}),await(0,o.Rn)(+g),f.innerHTML=(0,s.x)()})),document.getElementById("edit-form").addEventListener("submit",(async()=>{const n=document.getElementById("edit-name"),t=document.getElementById("edit-color"),e=r.t.getID();await(0,o.Bo)(e,{name:n.value,color:t.value})})),a()}catch(n){a(n)}}),1)},345:(n,t,e)=>{e.d(t,{XU:()=>s,S3:()=>o,Sz:()=>r});var a=e(663),i=e(347);const s={},o=async()=>{const n=a.t["getСars"]().map((n=>r(n.id))),t=await Promise.all(n),e=[];t.filter((n=>{!0===n.success&&e.push(n)})),e.sort(((n,t)=>n.time-t.time));const{id:i,time:s}=e[0];a.t.saveWinners({id:i,time:s})};async function r(n){const{velocity:t,distance:e}=await(0,i._t)(n),a=Math.round(e/t),o=document.getElementById(`car__${n}`),r=o.getBoundingClientRect(),c=document.getElementById(`finish__${n}`).getBoundingClientRect().left-r.left+50;s[n]=function(n,t,e){const a=performance.now(),i={id:0};return requestAnimationFrame((function s(o){let r=(o-a)/e;r>1&&(r=1),n.style.transform=`translateX(${r*t}px)`,r<1&&(i.id=requestAnimationFrame(s))})),i}(o,c,a);const{success:d}=await(0,i.uu)(n);return d||window.cancelAnimationFrame(s[n].id),{success:d,id:n,time:a}}},963:(n,t,e)=>{function a(){const n=["AUDI","ALFA ROMEO","BMW","FORD","HONDA","VOLKSWAGEN","SKODA","KIA","GEELY","BENTLEY"],t=["G11","80 B4","C5 I","Model S","Mustang","RC","S60 I","Astra G","S80 II","Jetta VII"],e=Math.floor(Math.random()*n.length),a=Math.floor(Math.random()*t.length);return`${n[e]} ${t[a]}`}function i(){return new Array(100).fill(0).map((()=>({name:a(),color:"#"+(Math.random().toString(16)+"000000").substring(2,8).toUpperCase()})))}e.d(t,{c:()=>i})},347:(n,t,e)=>{e.d(t,{BS:()=>h,Bo:()=>d,DT:()=>o,Dk:()=>f,H9:()=>b,IO:()=>m,Rn:()=>s,_t:()=>l,ix:()=>p,nn:()=>u,tD:()=>r,uu:()=>g});var a=e(663);const i="http://127.0.0.1:3000";async function s(n,t=7){const e=await fetch(`${i}/garage?_page=${n}&_limit=${t}`),s=await e.json();a.t["setСars"](s);const o=Number(e.headers.get("X-Total-Count"));a.t.setCarsCount(o)}async function o(n){const t=await fetch(`${i}/garage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return await t.json()}async function r(n){const t=await fetch(`${i}/garage/${n}`,{method:"DELETE"});return await t.json()}async function c(n){const t=await fetch(`${i}/garage/${n}`);return await t.json()}async function d(n,t){const e=await fetch(`${i}/garage/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await e.json()}async function l(n){const t=await fetch(`${i}/engine?id=${n}&status=started`,{method:"PATCH"});return await t.json()}async function u(n){const t=await fetch(`${i}/engine?id=${n}&status=stopped`,{method:"PATCH"});return await t.json()}async function g(n){const t=await fetch(`${i}/engine?id=${n}&status=drive`,{method:"PATCH"});return 200!==t.status?{success:!1}:await t.json()}async function p(n,t=10){const e=await fetch(`${i}/winners?_page=${n}&_limit=${t}`),s=await e.json(),o=Number(e.headers.get("X-Total-Count"));a.t.setWinnersCount(o);const r=await Promise.all(s.map((async n=>({winner:n,car:await c(`${n.id}`)}))));a.t.setWinners(r)}async function b(n){const t=await fetch(`${i}/winners?id=${n}`);return await t.json()}async function f({id:n,time:t,wins:e}){const a=await fetch(`${i}/winners`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,time:t,wins:e})});return await a.json()}async function m(n,t){const e=await fetch(`${i}/winners/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await e.json()}async function h(n){const t=await fetch(`${i}/winners/${n}`,{method:"DELETE"});return await t.json()}},663:(n,t,e)=>{e.d(t,{t:()=>i});var a=e(347);const i=new class{constructor(){this.pages=1,this.setСars=n=>{this.data=n},this.getСars=()=>this.data,this.setCarsCount=n=>{this.CarsCount=n},this.getCarsCount=()=>this.CarsCount,this.setID=n=>{this.id=n},this.getID=()=>this.id,this.getPagesNext=()=>this.pages+=1,this.getPagesPrev=()=>1===this.pages?this.pages:this.pages-=1,this.setPages=n=>{this.pages=n},this.setWinners=n=>{this.Winners=n},this.getWinners=()=>this.Winners,this.setWinnersCount=n=>{this.WinnersCount=n},this.getWinnersCount=()=>this.WinnersCount,this.saveWinners=async({id:n,time:t})=>{t/=1e3;let e="false";const i=await this.getWinners();if(console.log(i),i.map((async t=>{t.winner.id===n&&(e="true")})),console.log(e),"true"===e){const e=(await(0,a.H9)(n))[0].wins+1;e.time<t&&(t=e.time),await(0,a.IO)(n,{id:n,time:t,wins:e})}if("false"===e){const e=1;await(0,a.Dk)({id:n,time:t,wins:e})}e="false"}}}}},s={};function o(n){var t=s[n];if(void 0!==t)return t.exports;var e=s[n]={id:n,exports:{}};return i[n](e,e.exports,o),e.exports}n="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=n=>{n&&!n.d&&(n.d=1,n.forEach((n=>n.r--)),n.forEach((n=>n.r--?n.r++:n())))},o.a=(i,s,o)=>{var r;o&&((r=[]).d=1);var c,d,l,u=new Set,g=i.exports,p=new Promise(((n,t)=>{l=t,d=n}));p[t]=g,p[n]=n=>(r&&n(r),u.forEach(n),p.catch((n=>{}))),i.exports=p,s((i=>{var s;c=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[n])return i;if(i.then){var s=[];s.d=0,i.then((n=>{o[t]=n,a(s)}),(n=>{o[e]=n,a(s)}));var o={};return o[n]=n=>n(s),o}}var r={};return r[n]=n=>{},r[t]=i,r})))(i);var o=()=>c.map((n=>{if(n[e])throw n[e];return n[t]})),d=new Promise((t=>{(s=()=>t(o)).r=0;var e=n=>n!==r&&!u.has(n)&&(u.add(n),n&&!n.d&&(s.r++,n.push(s)));c.map((t=>t[n](e)))}));return s.r?d:o()}),(n=>(n?l(p[e]=n):d(g),a(r)))),r&&(r.d=0)},o.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return o.d(t,{a:t}),t},o.d=(n,t)=>{for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),o.nc=void 0,o(607)})();